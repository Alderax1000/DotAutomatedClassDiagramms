/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4.1/samples
 */
plugins {
  id "xyz.ronella.dotnet.core" version "2.0.1"
}

simple_dotnet.autoInstall = true
simple_dotnet.baseDir = project.projectDir.absolutePath+'\\src\\main\\cs\\'
def solutionName = 'DotAutomatedClassCreator.sln'
def projectName = 'DotAutomatedClassCreator.csproj'

task myPrebuildTask(type: Exec){
    println simple_dotnet.baseDir
}



dotnetClean {
  doLast {
    delete 'bin'
    delete 'obj'
  }
}

dotnetPublish {
  args = [simple_dotnet.baseDir+solutionName,'-r', 'win-x64', '-c', 'Release', 
          '/p:PublishSingleFile=true', '/p:PublishTrimmed=true']
}

dotnetPublish {
  args = [simple_dotnet.baseDir+solutionName,'-r', 'win-x64', '-c', 'Release', 
          '/p:PublishSingleFile=true', '/p:PublishTrimmed=true']
}

dotnetRun {
  args = ['--project', simple_dotnet.baseDir+projectName]
}